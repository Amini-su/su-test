import{Z as H,u as M,J as w,$ as U,a0 as m,I as z,a1 as I,e as J,D as W,L as S,a2 as N,b as Z,a3 as R,a4 as p,Y as q,U as T,a5 as G}from"./C6FM4SvB.js";const Y={trailing:!0};function $(e,t=25,i={}){if(i={...Y,...i},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let r,a,n=[],s,h;const u=(y,l)=>(s=Q(e,y,l),s.finally(()=>{if(s=null,i.trailing&&h&&!a){const v=u(y,h);return h=null,v}}),s);return function(...y){return s?(i.trailing&&(h=y),s):new Promise(l=>{const v=!a&&i.leading;clearTimeout(a),a=setTimeout(()=>{a=null;const d=i.leading?r:u(this,y);for(const D of n)D(d);n=[]},t),v?(r=u(this,y),l(r)):n.push(l)})}}async function Q(e,t,i){return await e.apply(t,i)}const X=Symbol.for("nuxt:client-only"),x=e=>e==="defer"||e===!1;function A(...e){var C;const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&typeof e[0]!="object"&&!(typeof e[0]=="function"&&typeof e[1]=="function")&&e.unshift(t);let[i,r,a={}]=e;const n=w(()=>U(i));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const s=M(),h=()=>m.value,u=(c,_,b)=>{if(_.isHydrating)return _.payload.data[c];if(b.cause!=="refresh:manual"&&b.cause!=="refresh:hook")return _.static.data[c]};a.server??(a.server=!0),a.default??(a.default=h),a.getCachedData??(a.getCachedData=u),a.lazy??(a.lazy=!1),a.immediate??(a.immediate=!0),a.deep??(a.deep=m.deep),a.dedupe??(a.dedupe="cancel"),a._functionName,s._asyncData[n.value];const y=a.getCachedData(n.value,s,{cause:"initial"});(C=s._asyncData[n.value])!=null&&C._init||(s._asyncData[n.value]=B(s,n.value,r,a,y));const l=s._asyncData[n.value];l._deps++;const v=()=>s._asyncData[n.value].execute({cause:"initial",dedupe:a.dedupe}),d=a.server!==!1&&s.payload.serverRendered;{let c=function(o){const f=s._asyncData[o];f!=null&&f._deps&&(f._deps--,f._deps===0&&(f==null||f._off(),f._init=!1,V(s,o),f.execute=()=>Promise.resolve(),s._asyncData[o].data.value=m.value))};const _=z();if(_&&d&&a.immediate&&!_.sp&&(_.sp=[]),_&&!_._nuxtOnBeforeMountCbs){_._nuxtOnBeforeMountCbs=[];const o=_._nuxtOnBeforeMountCbs;I(()=>{o.forEach(f=>{f()}),o.splice(0,o.length)}),J(()=>o.splice(0,o.length))}const b=_&&(_._nuxtClientOnly||W(X,!1));d&&s.isHydrating&&(l.error.value||y!=null)?l.status.value=l.error.value?"error":"success":_&&!b&&(s.payload.serverRendered&&s.isHydrating||a.lazy)&&a.immediate?_._nuxtOnBeforeMountCbs.push(v):a.immediate&&v();const E=G();if(a.watch){const o=S(a.watch,()=>{l._execute({cause:"watch",dedupe:a.dedupe})},{flush:"post"});E&&N(()=>o())}const F=S(n,(o,f)=>{var O,j;const L=((O=s._asyncData[f])==null?void 0:O.data.value)!==m.value;f&&c(f),(j=s._asyncData[o])!=null&&j._init||(s._asyncData[o]=B(s,o,r,a,a.getCachedData(o,s,{cause:"initial"}))),s._asyncData[o]._deps++,(a.immediate||L)&&s._asyncData[o].execute({cause:"initial",dedupe:a.dedupe})},{flush:"sync"});E&&N(()=>{F(),c(n.value)})}const D={data:P(()=>{var c;return(c=s._asyncData[n.value])==null?void 0:c.data}),pending:P(()=>{var c;return(c=s._asyncData[n.value])==null?void 0:c.pending}),status:P(()=>{var c;return(c=s._asyncData[n.value])==null?void 0:c.status}),error:P(()=>{var c;return(c=s._asyncData[n.value])==null?void 0:c.error}),refresh:(...c)=>s._asyncData[n.value].execute(...c),execute:(...c)=>s._asyncData[n.value].execute(...c),clear:()=>V(s,n.value)},g=Promise.resolve(s._asyncDataPromises[n.value]).then(()=>D);return Object.assign(g,D),g}function P(e){return w({get(){var t;return(t=e())==null?void 0:t.value},set(t){const i=e();i&&(i.value=t)}})}async function ee(e){await new Promise(i=>H(i)),await M().hooks.callHookParallel("app:data:refresh",void 0)}function V(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=m.errorValue),e._asyncData[t]&&(e._asyncData[t].data.value=T(e._asyncData[t]._default()),e._asyncData[t].error.value=m.errorValue,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]&&(e._asyncDataPromises[t].cancelled=!0),e._asyncDataPromises[t]=void 0)}function K(e,t){const i={};for(const r of t)i[r]=e[r];return i}function B(e,t,i,r,a){var y;(y=e.payload._errors)[t]??(y[t]=m.errorValue);const n=i,s=r.deep?Z:R,h=a!=null,u={data:s(h?a:r.default()),pending:w(()=>u.status.value==="pending"),error:p(e.payload._errors,t),status:R("idle"),execute:(l={})=>{if(e._asyncDataPromises[t]){if(x(l.dedupe??r.dedupe))return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}{const d=l.cause==="initial"?a:r.getCachedData(t,e,{cause:l.cause??"refresh:manual"});if(d!=null)return e.payload.data[t]=u.data.value=d,u.error.value=m.errorValue,u.status.value="success",Promise.resolve(d)}u.status.value="pending";const v=new Promise((d,D)=>{try{d(n(e))}catch(g){D(g)}}).then(async d=>{if(v.cancelled)return e._asyncDataPromises[t];let D=d;r.transform&&(D=await r.transform(d)),r.pick&&(D=K(D,r.pick)),e.payload.data[t]=D,u.data.value=D,u.error.value=m.errorValue,u.status.value="success"}).catch(d=>{if(v.cancelled)return e._asyncDataPromises[t];u.error.value=q(d),u.data.value=T(r.default()),u.status.value="error"}).finally(()=>{v.cancelled||delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=v,e._asyncDataPromises[t]},_execute:$((...l)=>u.execute(...l),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:e.hook("app:data:refresh",async l=>{(!l||l.includes(t))&&await u.execute({cause:"refresh:hook"})})};return u}const ae={content:"v3.5.0--DeFbqrVjfcLwj1GJ90Kw10n1ZO7vfeAEE6LyS3SjbW4"},te={content:"_content_content",info:"_content_info"},se={content:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json"}},info:{type:"data",fields:{}}};export{se as a,ae as c,ee as r,te as t,A as u};
